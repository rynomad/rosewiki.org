{
  "title": "Wik Patch",
  "story": [
    {
      "type": "paragraph",
      "id": "106dd16efa896f43",
      "text": "[[WIK DVCS]] uses [[Patch Based Version Control]] to manage revisions in a modular way that allows for cherry-picking of edits. Here we describe the constituents of a patch (in JSON)"
    },
    {
      "type": "paragraph",
      "id": "a921e711874fd1a5",
      "text": "A patch contains a uri that points to itself, and an operation object generated by [[Substance Operator]] that contains the patch data to apply to a thread."
    },
    {
      "type": "paragraph",
      "id": "d168c266658e200c",
      "text": "For wikii, patches are strictly array operations, for other threads, any combination of array, object, or text operations may be used, at the discretion of the appropriate plugin."
    },
    {
      "type": "code",
      "id": "853fe07b1544cf33",
      "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val }\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\n\n// Text operation on a paragraph\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, str }\ntype = \"+\"\npos = 0\nstr = \"Hello World!\""
    },
    {
      "type": "paragraph",
      "id": "95e94c2a5cd38976",
      "text": "By always referencing a parent patch, we can quickly establish if we need to transform the patch relative to our own patch history."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Wik Patch",
        "story": []
      },
      "date": 1394738962132
    },
    {
      "item": {
        "type": "factory",
        "id": "106dd16efa896f43"
      },
      "id": "106dd16efa896f43",
      "type": "add",
      "date": 1394738963766
    },
    {
      "type": "edit",
      "id": "106dd16efa896f43",
      "item": {
        "type": "paragraph",
        "id": "106dd16efa896f43",
        "text": "[[WIK DVCS]] uses [[Operational Transformations]] to manage revisions in a modular way that allows for cherry-picking of edits."
      },
      "date": 1394739018834
    },
    {
      "item": {
        "type": "paragraph",
        "id": "2e195a175f32c437",
        "text": ""
      },
      "id": "2e195a175f32c437",
      "type": "add",
      "after": "106dd16efa896f43",
      "date": 1394739019357
    },
    {
      "type": "remove",
      "id": "2e195a175f32c437",
      "date": 1394739019557
    },
    {
      "type": "edit",
      "id": "106dd16efa896f43",
      "item": {
        "type": "paragraph",
        "id": "106dd16efa896f43",
        "text": "[[WIK DVCS]] uses [[Operational Transformations]] to manage revisions in a modular way that allows for cherry-picking of edits. Here we describe the constituents of a patch (in JSON)"
      },
      "date": 1394739087402
    },
    {
      "item": {
        "type": "factory",
        "id": "853fe07b1544cf33"
      },
      "id": "853fe07b1544cf33",
      "type": "add",
      "after": "106dd16efa896f43",
      "date": 1394739095105
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "patch = { uri, type, steward, date, data }\nuri = \"\""
      },
      "date": 1394739139424
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "patch = { uri, operation }\nuri = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\noperation = \"create|\""
      },
      "date": 1394739278577
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "patch = { uri, operation }\nuri = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\noperation = { type, parentUri }"
      },
      "date": 1394739380654
    },
    {
      "item": {
        "type": "paragraph",
        "id": "a921e711874fd1a5",
        "text": ""
      },
      "id": "a921e711874fd1a5",
      "type": "add",
      "after": "106dd16efa896f43",
      "date": 1394739383694
    },
    {
      "type": "edit",
      "id": "a921e711874fd1a5",
      "item": {
        "type": "paragraph",
        "id": "a921e711874fd1a5",
        "text": "A patch contains a uri that resolves to itself, and an operation object that contains the patch data to apply to a thread, as "
      },
      "date": 1394739512817
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "patch = { uri, parentUri, operation }\nuri = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\noperation = { data, parentUri }"
      },
      "date": 1394739813969
    },
    {
      "type": "edit",
      "id": "a921e711874fd1a5",
      "item": {
        "type": "paragraph",
        "id": "a921e711874fd1a5",
        "text": "A patch contains a uri that resolves to itself, and an operation object generated by [[Substance Operator]] that contains the patch data to apply to a thread."
      },
      "date": 1394739832667
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "patch = { uri, parentUri, operation }\nuri = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\nparentUri = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\noperation = {}"
      },
      "date": 1394739877130
    },
    {
      "item": {
        "type": "paragraph",
        "id": "d168c266658e200c",
        "text": ""
      },
      "id": "d168c266658e200c",
      "type": "add",
      "after": "a921e711874fd1a5",
      "date": 1394739960210
    },
    {
      "type": "edit",
      "id": "d168c266658e200c",
      "item": {
        "type": "paragraph",
        "id": "d168c266658e200c",
        "text": "For wikii, patches are strictly array operations, for other threads, any combination of array, object, or text operations may be used."
      },
      "date": 1394740039529
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\noperation = {}"
      },
      "date": 1394740089843
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\""
      },
      "date": 1394740201060
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\""
      },
      "date": 1394740206249
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\""
      },
      "date": 1394740245762
    },
    {
      "type": "edit",
      "id": "d168c266658e200c",
      "item": {
        "type": "paragraph",
        "id": "d168c266658e200c",
        "text": "For wikii, patches are strictly array operations, for other threads, any combination of array, object, or text operations may be used, at the discretion of the appropriate plugin."
      },
      "date": 1394740518545
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\n\n// Text operation on a paragraph"
      },
      "date": 1394740541230
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\n\n// Text operation on a paragraph\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\""
      },
      "date": 1394740595731
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val}\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\n\n// Text operation on a paragraph\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, str }\ntype = \"+\"\npos = 0\nstr = \"Hello World!\""
      },
      "date": 1394740750076
    },
    {
      "type": "edit",
      "id": "853fe07b1544cf33",
      "item": {
        "type": "code",
        "id": "853fe07b1544cf33",
        "text": "// Array Operation on a wik\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/wik/<wik-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, val }\ntype = \"insert\"\npos = 1\nval = \n\"/wik/<thread-type>/<thread-id>/<steward-id>/<timestamp>\"\n\n// Text operation on a paragraph\npatch = { uri, parentUri, operation }\nuri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-1>\"\nparentUri = \n\"/wik/paragraph/<thread-id>/<steward-id>/<timestamp-0>\"\noperation = { type, pos, str }\ntype = \"+\"\npos = 0\nstr = \"Hello World!\""
      },
      "date": 1394740850552
    },
    {
      "type": "edit",
      "id": "106dd16efa896f43",
      "item": {
        "type": "paragraph",
        "id": "106dd16efa896f43",
        "text": "[[WIK DVCS]] uses [[Patch Based Version Control]] to manage revisions in a modular way that allows for cherry-picking of edits. Here we describe the constituents of a patch (in JSON)"
      },
      "date": 1394740951864
    },
    {
      "item": {
        "type": "factory",
        "id": "95e94c2a5cd38976"
      },
      "id": "95e94c2a5cd38976",
      "type": "add",
      "after": "853fe07b1544cf33",
      "date": 1394741172879
    },
    {
      "type": "edit",
      "id": "95e94c2a5cd38976",
      "item": {
        "type": "paragraph",
        "id": "95e94c2a5cd38976",
        "text": "By always referencing a parent patch, we can quickly establish if we need to transform the patch relative to our own patch history."
      },
      "date": 1394741247002
    },
    {
      "type": "edit",
      "id": "a921e711874fd1a5",
      "item": {
        "type": "paragraph",
        "id": "a921e711874fd1a5",
        "text": "A patch contains a uri that points to itself, and an operation object generated by [[Substance Operator]] that contains the patch data to apply to a thread."
      },
      "date": 1394747993363
    }
  ]
}